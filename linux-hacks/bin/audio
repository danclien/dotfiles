#!/bin/bash

SINK_INDEX=$(pactl list short sinks | grep alsa_output.pci-0000_00_1f.3 | awk '{print $1;}')

if [[ $1 == "internal" ]]; then
  pactl set-card-profile 0 output:analog-stereo+input:analog-stereo
elif [[ $1 == "hdmi" ]]; then
  pactl set-card-profile 0 output:hdmi-stereo-extra1+input:analog-stereo
elif [[ $1 == "down" ]]; then
  echo "Volume down 5%"
  pactl set-sink-volume "$SINK_INDEX" -5% # > /dev/null 2>&1
elif [[ $1 == "up" ]]; then
  echo "Volume up 5%"
  pactl set-sink-volume "$SINK_INDEX" +5% # > /dev/null 2>&1
elif [[ $1 == "mute" ]]; then
  echo "Volume mute"
  pactl set-sink-mute "$SINK_INDEX" toggle # > /dev/null 2>&1
fi

# Update i3blocks volume control
pkill -RTMIN+10 i3blocks
